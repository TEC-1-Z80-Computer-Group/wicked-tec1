parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"PTIi":[function(require,module,exports) {
var define;
var global = arguments[3];
var r,t=arguments[3];!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof r&&r.amd?r(e):t.MemoryMap=e()}(this,function(){"use strict";var r=/:([0-9A-Fa-f]{8,})([0-9A-Fa-f]{2})(?:\r\n|\r|\n|)/g;function t(r){return 255&-r.reduce(function(r,t){return r+t},0)}function e(r){return r.toString(16).toUpperCase().padStart(2,"0")}Number.isInteger=Number.isInteger||function(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r};var o=function(r){if(this._blocks=new Map,r&&"function"==typeof r[Symbol.iterator])for(var t of r){if(!(t instanceof Array)||2!==t.length)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined");this.set(t[0],t[1])}else if("object"==typeof r){var e=Object.keys(r);for(var o of e)this.set(parseInt(o),r[o])}else if(null!=r)throw new Error("First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined")},n={size:{configurable:!0}};return o.prototype.set=function(r,t){if(!Number.isInteger(r))throw new Error("Address passed to MemoryMap is not an integer");if(r<0)throw new Error("Address passed to MemoryMap is negative");if(!(t instanceof Uint8Array))throw new Error("Bytes passed to MemoryMap are not an Uint8Array");return this._blocks.set(r,t)},o.prototype.get=function(r){return this._blocks.get(r)},o.prototype.clear=function(){return this._blocks.clear()},o.prototype.delete=function(r){return this._blocks.delete(r)},o.prototype.entries=function(){return this._blocks.entries()},o.prototype.forEach=function(r,t){return this._blocks.forEach(r,t)},o.prototype.has=function(r){return this._blocks.has(r)},o.prototype.keys=function(){return this._blocks.keys()},o.prototype.values=function(){return this._blocks.values()},n.size.get=function(){return this._blocks.size},o.prototype[Symbol.iterator]=function(){return this._blocks[Symbol.iterator]()},o.fromHex=function(n,a){void 0===a&&(a=1/0);var i,s=new o,f=0,u=0,h=0;for(r.lastIndex=0;null!==(i=r.exec(n));){if(u++,f!==i.index)throw new Error("Malformed hex file: Could not parse between characters "+f+" and "+i.index+' ("'+n.substring(f,Math.min(i.index,f+16)).trim()+'")');f=r.lastIndex;var c=i[1],l=i[2],d=new Uint8Array(c.match(/[\da-f]{2}/gi).map(function(r){return parseInt(r,16)})),p=d[0];if(p+4!==d.length)throw new Error("Mismatched record length at record "+u+" ("+i[0].trim()+"), expected "+p+" data bytes but actual length is "+(d.length-4));var y=t(d);if(parseInt(l,16)!==y)throw new Error("Checksum failed at record "+u+" ("+i[0].trim()+"), should be "+y.toString(16));var v=(d[1]<<8)+d[2],w=d[3],g=d.subarray(4);if(0===w){if(s.has(h+v))throw new Error("Duplicated data at record "+u+" ("+i[0].trim()+")");if(v+g.length>65536)throw new Error("Data at record "+u+" ("+i[0].trim()+") wraps over 0xFFFF. This would trigger ambiguous behaviour. Please restructure your data so that for every record the data offset plus the data length do not exceed 0xFFFF.");s.set(h+v,g)}else{if(0!==v)throw new Error("Record "+u+" ("+i[0].trim()+") must have 0000 as data offset.");switch(w){case 1:if(f!==n.length)throw new Error("There is data after an EOF record at record "+u);return s.join(a);case 2:h=(g[0]<<8)+g[1]<<4;break;case 3:break;case 4:h=(g[0]<<8)+g[1]<<16;break;case 5:break;default:throw new Error("Invalid record type 0x"+e(w)+" at record "+u+" (should be between 0x00 and 0x05)")}}}throw u?new Error("No EOF record at end of file"):new Error("Malformed .hex file, could not parse any registers")},o.prototype.join=function(r){void 0===r&&(r=1/0);for(var t=Array.from(this.keys()).sort(function(r,t){return r-t}),e=new Map,n=-1,a=-1,i=0,s=t.length;i<s;i++){var f=t[i],u=this.get(t[i]).length;if(a===f&&a-n<r)e.set(n,e.get(n)+u),a+=u;else{if(!(a<=f))throw new Error("Overlapping data around address 0x"+f.toString(16));e.set(f,u),n=f,a=f+u}}for(var h,c=new o,l=-1,d=0,p=t.length;d<p;d++){var y=t[d];e.has(y)&&(h=new Uint8Array(e.get(y)),c.set(y,h),l=y),h.set(this.get(y),y-l)}return c},o.overlapMemoryMaps=function(r){var t=new Set;for(var[,e]of r)for(var[o,n]of e)t.add(o),t.add(o+n.length);for(var a=Array.from(t.values()).sort(function(r,t){return r-t}),i=new Map,s=function(t,e){var o=a[t],n=a[t+1],s=[];for(var[f,u]of r){var h=Array.from(u.keys()).reduce(function(r,t){return t>o?r:Math.max(r,t)},-1);if(-1!==h){var c=u.get(h),l=o-h,d=n-h;l<c.length&&s.push([f,c.subarray(l,d)])}}s.length&&i.set(o,s)},f=0,u=a.length-1;f<u;f++)s(f);return i},o.flattenOverlaps=function(r){return new o(Array.from(r.entries()).map(function(r){var t=r[0],e=r[1];return[t,e[e.length-1][1]]}))},o.prototype.paginate=function(r,t){if(void 0===r&&(r=1024),void 0===t&&(t=255),r<=0)throw new Error("Page size must be greater than zero");for(var e,n=new o,a=Array.from(this.keys()).sort(function(r,t){return r-t}),i=0,s=a.length;i<s;i++)for(var f=a[i],u=this.get(f),h=u.length,c=f+h,l=f-f%r;l<c;l+=r){(e=n.get(l))||((e=new Uint8Array(r)).fill(t),n.set(l,e));var d=l-f,p=void 0;d<=0?(p=u.subarray(0,Math.min(r+d,h)),e.set(p,-d)):(p=u.subarray(d,d+Math.min(r,h-d)),e.set(p,0))}return n},o.prototype.getUint32=function(r,t){for(var e=Array.from(this.keys()),o=0,n=e.length;o<n;o++){var a=e[o],i=this.get(a),s=i.length;if(a<=r&&r+4<=a+s)return new DataView(i.buffer,r-a,4).getUint32(0,t)}},o.prototype.asHexString=function(r){void 0===r&&(r=16);var o=0,n=-65536,a=[];if(r<=0)throw new Error("Size of record must be greater than zero");if(r>255)throw new Error("Size of record must be less than 256");for(var i,s=new Uint8Array(6),f=new Uint8Array(4),u=Array.from(this.keys()).sort(function(r,t){return r-t}),h=0,c=u.length;h<c;h++){var l=u[h],d=this.get(l);if(!(d instanceof Uint8Array))throw new Error("Block at offset "+l+" is not an Uint8Array");if(l<0)throw new Error("Block at offset "+l+" has a negative thus invalid address");var p=d.length;if(p){if(l>n+65535&&(n=l-l%65536,o=0,s[0]=2,s[1]=0,s[2]=0,s[3]=4,s[4]=n>>24,s[5]=n>>16,a.push(":"+Array.prototype.map.call(s,e).join("")+e(t(s)))),l<n+o)throw new Error("Block starting at 0x"+l.toString(16)+" overlaps with a previous block.");o=l%65536;var y=0,v=l+p;if(v>4294967295)throw new Error("Data cannot be over 0xFFFFFFFF");for(;n+o<v;){o>65535&&(n+=65536,o=0,s[0]=2,s[1]=0,s[2]=0,s[3]=4,s[4]=n>>24,s[5]=n>>16,a.push(":"+Array.prototype.map.call(s,e).join("")+e(t(s))));for(var w=-1;o<65536&&w;)if(w=Math.min(r,v-n-o,65536-o)){f[0]=w,f[1]=o>>8,f[2]=o,f[3]=0;var g=d.subarray(y,y+w);a.push(":"+Array.prototype.map.call(f,e).join("")+Array.prototype.map.call(g,e).join("")+e((i=g,255&-(f.reduce(function(r,t){return r+t},0)+i.reduce(function(r,t){return r+t},0))))),y+=w,o+=w}}}}return a.push(":00000001FF"),a.join("\n")},o.prototype.clone=function(){var r=new o;for(var[t,e]of this)r.set(t,new Uint8Array(e));return r},o.fromPaddedUint8Array=function(r,t,e){if(void 0===t&&(t=255),void 0===e&&(e=64),!(r instanceof Uint8Array))throw new Error("Bytes passed to fromPaddedUint8Array are not an Uint8Array");for(var n=new o,a=0,i=-1,s=0,f=!1,u=r.length,h=0;h<u;h++){r[h]===t?++a>=e&&(-1!==i&&n.set(s,r.subarray(s,i+1)),f=!0):(f&&(f=!1,s=h),i=h,a=0)}return f||-1===i||n.set(s,r.subarray(s,u)),n},o.prototype.slice=function(r,t){if(void 0===t&&(t=1/0),t<0)throw new Error("Length of the slice cannot be negative");var e=new o;for(var[n,a]of this){var i=a.length;if(n+i>=r&&n<r+t){var s=Math.max(r,n),f=Math.min(r+t,n+i)-s,u=s-n;f>0&&e.set(s,a.subarray(u,u+f))}}return e},o.prototype.slicePad=function(r,t,e){if(void 0===e&&(e=255),t<0)throw new Error("Length of the slice cannot be negative");var o=new Uint8Array(t).fill(e);for(var[n,a]of this){var i=a.length;if(n+i>=r&&n<r+t){var s=Math.max(r,n),f=Math.min(r+t,n+i)-s,u=s-n;f>0&&o.set(a.subarray(u,u+f),s-r)}}return o},o.prototype.contains=function(r){for(var[t,e]of r){var o=e.length,n=this.slice(t,o).join().get(t);if(!n||n.length!==o)return!1;for(var a in e)if(e[a]!==n[a])return!1}return!0},Object.defineProperties(o.prototype,n),o});
},{}],"jIr1":[function(require,module,exports) {
"use strict";function n(n){const e=n;if(!e||"function"!=typeof e.mem_read||"function"!=typeof e.mem_write||"function"!=typeof e.io_read||"function"!=typeof e.io_write)throw new Error("Z80: Core object is missing required functions.");let t=0,i=0,o=0,c=0,m=0,f=0,u=0,r=0,_=0,a=0,d=0,s=0,l=0,Z=0,C=0,w=0,P=0,S=0,H=57328,N=0;const p={S:0,Z:0,Y:0,H:0,X:0,P:0,N:0,C:0},g={S:0,Z:0,Y:0,H:0,X:0,P:0,N:0,C:0};let X=0,Y=0,y=0,h=!1,b=!1,x=!1,v=0;const j=function(n){const r=function(n){return 0==(7&n)?i:1==(7&n)?o:2==(7&n)?c:3==(7&n)?m:4==(7&n)?f:5==(7&n)?u:6==(7&n)?e.mem_read(u|f<<8):t};if(118===n)h=!0;else if(n>=64&&n<128){const _=r(n);(56&n)>>>3==0?i=_:(56&n)>>>3==1?o=_:(56&n)>>>3==2?c=_:(56&n)>>>3==3?m=_:(56&n)>>>3==4?f=_:(56&n)>>>3==5?u=_:(56&n)>>>3==6?e.mem_write(u|f<<8,_):(56&n)>>>3==7&&(t=_)}else if(n>=128&&n<192){const e=r(n);[J,K,L,Q,T,V,U,R][(56&n)>>>3](e)}else{(0,gn[n])()}v+=yn[n]},q=function(n){return 128&(n&=255)&&(n=-(1+(255&~n))),n},E=function(){return p.S<<7|p.Z<<6|p.Y<<5|p.H<<4|p.X<<3|p.P<<2|p.N<<1|p.C},M=function(n){p.S=(128&n)>>>7,p.Z=(64&n)>>>6,p.Y=(32&n)>>>5,p.H=(16&n)>>>4,p.X=(8&n)>>>3,p.P=(4&n)>>>2,p.N=(2&n)>>>1,p.C=1&n},O=function(n){p.Y=(32&n)>>>5,p.X=(8&n)>>>3},k=function(n){return[1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1][n]},z=function(n){H=H-1&65535,e.mem_write(H,(65280&n)>>>8),H=H-1&65535,e.mem_write(H,255&n)},A=function(){let n=255&e.mem_read(H);return H=H+1&65535,n|=e.mem_read(H)<<8,H=H+1&65535,n},B=function(n){N=n?(N=e.mem_read(N+1&65535)|e.mem_read(N+2&65535)<<8)-1&65535:N+2&65535},D=function(n){if(n){v+=5;const n=q(e.mem_read(N+1&65535));N=N+n+1&65535}else N=N+1&65535},F=function(n){n?(v+=7,z(N+3&65535),N=(N=e.mem_read(N+1&65535)|e.mem_read(N+2&65535)<<8)-1&65535):N=N+2&65535},G=function(n){n&&(v+=6,N=A()-1&65535)},I=function(n){z(N+1&65535),N=n-1&65535},J=function(n){const e=t+n;p.S=128&e?1:0,p.Z=255&e?0:1,p.H=(15&n)+(15&t)&16?1:0,p.P=(128&t)==(128&n)&&(128&t)!=(128&e)?1:0,p.N=0,p.C=256&e?1:0,O(t=255&e)},K=function(n){const e=t+n+p.C;p.S=128&e?1:0,p.Z=255&e?0:1,p.H=(15&n)+(15&t)+p.C&16?1:0,p.P=(128&t)==(128&n)&&(128&t)!=(128&e)?1:0,p.N=0,p.C=256&e?1:0,O(t=255&e)},L=function(n){const e=t-n;p.S=128&e?1:0,p.Z=255&e?0:1,p.H=(15&t)-(15&n)&16?1:0,p.P=(128&t)!=(128&n)&&(128&t)!=(128&e)?1:0,p.N=1,p.C=256&e?1:0,O(t=255&e)},Q=function(n){const e=t-n-p.C;p.S=128&e?1:0,p.Z=255&e?0:1,p.H=(15&t)-(15&n)-p.C&16?1:0,p.P=(128&t)!=(128&n)&&(128&t)!=(128&e)?1:0,p.N=1,p.C=256&e?1:0,O(t=255&e)},R=function(n){const e=t;L(n),t=e,O(n)},T=function(n){t&=255&n,p.S=128&t?1:0,p.Z=t?0:1,p.H=1,p.P=k(t),p.N=0,p.C=0,O(t)},U=function(n){t=255&(n|t),p.S=128&t?1:0,p.Z=t?0:1,p.H=0,p.P=k(t),p.N=0,p.C=0,O(t)},V=function(n){t=255&(n^t),p.S=128&t?1:0,p.Z=t?0:1,p.H=0,p.P=k(t),p.N=0,p.C=0,O(t)},W=function(n){let e=n+1;return p.S=128&e?1:0,p.Z=255&e?0:1,p.H=15==(15&n)?1:0,p.P=127===n?1:0,p.N=0,O(e&=255),e},$=function(n){let e=n-1;return p.S=128&e?1:0,p.Z=255&e?0:1,p.H=0==(15&n)?1:0,p.P=128===n?1:0,p.N=1,O(e&=255),e},nn=function(n){const e=u|f<<8,t=e+n;p.N=0,p.C=65536&t?1:0,p.H=(4095&e)+(4095&n)&4096?1:0,u=255&t,O(f=(65280&t)>>>8)},en=function(n){n+=p.C;const e=u|f<<8,t=e+n;p.S=32768&t?1:0,p.Z=65535&t?0:1,p.H=(4095&e)+(4095&n)&4096?1:0,p.P=(32768&e)==(32768&n)&&(32768&t)!=(32768&e)?1:0,p.N=0,p.C=65536&t?1:0,u=255&t,O(f=t>>>8&255)},tn=function(n){n+=p.C;const e=u|f<<8,t=e-n;p.S=32768&t?1:0,p.Z=65535&t?0:1,p.H=(4095&e)-(4095&n)&4096?1:0,p.P=(32768&e)!=(32768&n)&&(32768&t)!=(32768&e)?1:0,p.N=1,p.C=65536&t?1:0,u=255&t,O(f=t>>>8&255)},on=function(n){const t=e.io_read(n);return p.S=128&t?1:0,p.Z=t?0:1,p.H=0,p.P=k(t)?1:0,p.N=0,O(t),t},cn=function(){128!==t&&(t=255&-(t=q(t))),p.S=128&t?1:0,p.Z=t?0:1,p.H=(15&-t)>0?1:0,p.P=128===t?1:0,p.N=1,p.C=t?1:0,O(t)},mn=function(){const n=e.mem_read(u|f<<8);e.mem_write(m|c<<8,n);let r=1+(m|c<<8);m=255&r,c=(65280&r)>>>8,u=255&(r=1+(u|f<<8)),f=(65280&r)>>>8,o=255&(r=(o|i<<8)-1),i=(65280&r)>>>8,p.H=0,p.P=o||i?1:0,p.N=0,p.Y=(t+n&2)>>>1,p.X=(t+n&8)>>>3},fn=function(){const n=p.C,c=e.mem_read(u|f<<8);R(c),p.C=n,p.Y=(t-c-p.H&2)>>>1,p.X=(t-c-p.H&8)>>>3;let m=1+(u|f<<8);u=255&m,f=(65280&m)>>>8,o=255&(m=(o|i<<8)-1),i=(65280&m)>>>8,p.P=m?1:0},un=function(){i=$(i),e.mem_write(u|f<<8,e.io_read(i<<8|o));const n=1+(u|f<<8);u=255&n,f=(65280&n)>>>8,p.N=1},rn=function(){e.io_write(i<<8|o,e.mem_read(u|f<<8));const n=1+(u|f<<8);u=255&n,f=(65280&n)>>>8,i=$(i),p.N=1},_n=function(){p.N=0,p.H=0;const n=e.mem_read(u|f<<8);e.mem_write(m|c<<8,n);let r=(m|c<<8)-1;m=255&r,c=(65280&r)>>>8,u=255&(r=(u|f<<8)-1),f=(65280&r)>>>8,o=255&(r=(o|i<<8)-1),i=(65280&r)>>>8,p.P=o||i?1:0,p.Y=(t+n&2)>>>1,p.X=(t+n&8)>>>3},an=function(){const n=p.C,c=e.mem_read(u|f<<8);R(c),p.C=n,p.Y=(t-c-p.H&2)>>>1,p.X=(t-c-p.H&8)>>>3;let m=(u|f<<8)-1;u=255&m,f=(65280&m)>>>8,o=255&(m=(o|i<<8)-1),i=(65280&m)>>>8,p.P=m?1:0},dn=function(){i=$(i),e.mem_write(u|f<<8,e.io_read(i<<8|o));const n=(u|f<<8)-1;u=255&n,f=(65280&n)>>>8,p.N=1},sn=function(){e.io_write(i<<8|o,e.mem_read(u|f<<8));const n=(u|f<<8)-1;u=255&n,f=(65280&n)>>>8,i=$(i),p.N=1},ln=function(n){return p.N=0,p.H=0,p.C=(128&n)>>>7,n=255&(n<<1|p.C),p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},Zn=function(n){return p.N=0,p.H=0,p.C=1&n,n=n>>>1&127|p.C<<7,p.Z=255&n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),255&n},Cn=function(n){p.N=0,p.H=0;const e=p.C;return p.C=(128&n)>>>7,n=255&(n<<1|e),p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},wn=function(n){p.N=0,p.H=0;const e=p.C;return p.C=1&n,n=n>>>1&127|e<<7,p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},Pn=function(n){return p.N=0,p.H=0,p.C=(128&n)>>>7,n=n<<1&255,p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},Sn=function(n){return p.N=0,p.H=0,p.C=1&n,n=n>>>1&127|128&n,p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},Hn=function(n){return p.N=0,p.H=0,p.C=(128&n)>>>7,n=n<<1&255|1,p.Z=n?0:1,p.P=k(n),p.S=128&n?1:0,O(n),n},Nn=function(n){return p.N=0,p.H=0,p.C=1&n,n=n>>>1&127,p.Z=n?0:1,p.P=k(n),p.S=0,O(n),n},pn=function(n){p.N=0;const e=C+n;p.C=65536&e?1:0,p.H=(4095&C)+(4095&n)&4096?1:0,O((65280&e)>>>8),C=e},gn=[];gn[0]=function(){},gn[1]=function(){N=N+1&65535,o=e.mem_read(N),N=N+1&65535,i=e.mem_read(N)},gn[2]=function(){e.mem_write(o|i<<8,t)},gn[3]=function(){let n=o|i<<8;o=255&(n+=1),i=(65280&n)>>>8},gn[4]=function(){i=W(i)},gn[5]=function(){i=$(i)},gn[6]=function(){N=N+1&65535,i=e.mem_read(N)},gn[7]=function(){const n=p.S,e=p.Z,i=p.P;t=ln(t),p.S=n,p.Z=e,p.P=i},gn[8]=function(){let n=t;var e;t=r,r=n,n=E(),M(g.S<<7|g.Z<<6|g.Y<<5|g.H<<4|g.X<<3|g.P<<2|g.N<<1|g.C),e=n,g.S=(128&e)>>>7,g.Z=(64&e)>>>6,g.Y=(32&e)>>>5,g.H=(16&e)>>>4,g.X=(8&e)>>>3,g.P=(4&e)>>>2,g.N=(2&e)>>>1,g.C=1&e},gn[9]=function(){nn(o|i<<8)},gn[10]=function(){t=e.mem_read(o|i<<8)},gn[11]=function(){let n=o|i<<8;o=255&(n-=1),i=(65280&n)>>>8},gn[12]=function(){o=W(o)},gn[13]=function(){o=$(o)},gn[14]=function(){N=N+1&65535,o=e.mem_read(N)},gn[15]=function(){const n=p.S,e=p.Z,i=p.P;t=Zn(t),p.S=n,p.Z=e,p.P=i},gn[16]=function(){D(0!==(i=i-1&255))},gn[17]=function(){N=N+1&65535,m=e.mem_read(N),N=N+1&65535,c=e.mem_read(N)},gn[18]=function(){e.mem_write(m|c<<8,t)},gn[19]=function(){let n=m|c<<8;m=255&(n+=1),c=(65280&n)>>>8},gn[20]=function(){c=W(c)},gn[21]=function(){c=$(c)},gn[22]=function(){N=N+1&65535,c=e.mem_read(N)},gn[23]=function(){const n=p.S,e=p.Z,i=p.P;t=Cn(t),p.S=n,p.Z=e,p.P=i},gn[24]=function(){const n=q(e.mem_read(N+1&65535));N=N+n+1&65535},gn[25]=function(){nn(m|c<<8)},gn[26]=function(){t=e.mem_read(m|c<<8)},gn[27]=function(){let n=m|c<<8;m=255&(n-=1),c=(65280&n)>>>8},gn[28]=function(){m=W(m)},gn[29]=function(){m=$(m)},gn[30]=function(){N=N+1&65535,m=e.mem_read(N)},gn[31]=function(){const n=p.S,e=p.Z,i=p.P;t=wn(t),p.S=n,p.Z=e,p.P=i},gn[32]=function(){D(!p.Z)},gn[33]=function(){N=N+1&65535,u=e.mem_read(N),N=N+1&65535,f=e.mem_read(N)},gn[34]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,u),e.mem_write(n+1&65535,f)},gn[35]=function(){let n=u|f<<8;u=255&(n+=1),f=(65280&n)>>>8},gn[36]=function(){f=W(f)},gn[37]=function(){f=$(f)},gn[38]=function(){N=N+1&65535,f=e.mem_read(N)},gn[39]=function(){let n=t;p.N?((p.H||(15&t)>9)&&(n-=6),(p.C||t>153)&&(n-=96)):((p.H||(15&t)>9)&&(n+=6),(p.C||t>153)&&(n+=96)),p.S=128&n?1:0,p.Z=255&n?0:1,p.H=16&t^16&n?1:0,p.P=k(255&n),p.C=p.C||t>153?1:0,O(t=255&n)},gn[40]=function(){D(!!p.Z)},gn[41]=function(){nn(u|f<<8)},gn[42]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,u=e.mem_read(n),f=e.mem_read(n+1&65535)},gn[43]=function(){let n=u|f<<8;u=255&(n-=1),f=(65280&n)>>>8},gn[44]=function(){u=W(u)},gn[45]=function(){u=$(u)},gn[46]=function(){N=N+1&65535,u=e.mem_read(N)},gn[47]=function(){t=255&~t,p.N=1,p.H=1,O(t)},gn[48]=function(){D(!p.C)},gn[49]=function(){H=e.mem_read(N+1&65535)|e.mem_read(N+2&65535)<<8,N=N+2&65535},gn[50]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,t)},gn[51]=function(){H=H+1&65535},gn[52]=function(){const n=u|f<<8;e.mem_write(n,W(e.mem_read(n)))},gn[53]=function(){const n=u|f<<8;e.mem_write(n,$(e.mem_read(n)))},gn[54]=function(){N=N+1&65535,e.mem_write(u|f<<8,e.mem_read(N))},gn[55]=function(){p.N=0,p.H=0,p.C=1,O(t)},gn[56]=function(){D(!!p.C)},gn[57]=function(){nn(H)},gn[58]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,t=e.mem_read(n)},gn[59]=function(){H=H-1&65535},gn[60]=function(){t=W(t)},gn[61]=function(){t=$(t)},gn[62]=function(){t=e.mem_read(N+1&65535),N=N+1&65535},gn[63]=function(){p.N=0,p.H=p.C,p.C=p.C?0:1,O(t)},gn[192]=function(){G(!p.Z)},gn[193]=function(){const n=A();o=255&n,i=(65280&n)>>>8},gn[194]=function(){B(!p.Z)},gn[195]=function(){N=(N=e.mem_read(N+1&65535)|e.mem_read(N+2&65535)<<8)-1&65535},gn[196]=function(){F(!p.Z)},gn[197]=function(){z(o|i<<8)},gn[198]=function(){N=N+1&65535,J(e.mem_read(N))},gn[199]=function(){I(0)},gn[200]=function(){G(!!p.Z)},gn[201]=function(){N=A()-1&65535},gn[202]=function(){B(!!p.Z)},gn[203]=function(){S=128&S|1+(127&S)&127,N=N+1&65535;const n=e.mem_read(N),r=(56&n)>>>3,_=7&n;if(n<64){const n=[ln,Zn,Cn,wn,Pn,Sn,Hn,Nn];0===_?i=n[r](i):1===_?o=n[r](o):2===_?c=n[r](c):3===_?m=n[r](m):4===_?f=n[r](f):5===_?u=n[r](u):6===_?e.mem_write(u|f<<8,n[r](e.mem_read(u|f<<8))):7===_&&(t=n[r](t))}else n<128?(0===_?p.Z=i&1<<r?0:1:1===_?p.Z=o&1<<r?0:1:2===_?p.Z=c&1<<r?0:1:3===_?p.Z=m&1<<r?0:1:4===_?p.Z=f&1<<r?0:1:5===_?p.Z=u&1<<r?0:1:6===_?p.Z=e.mem_read(u|f<<8)&1<<r?0:1:7===_&&(p.Z=t&1<<r?0:1),p.N=0,p.H=1,p.P=p.Z,p.S=7!==r||p.Z?0:1,p.Y=5!==r||p.Z?0:1,p.X=3!==r||p.Z?0:1):n<192?0===_?i&=255&~(1<<r):1===_?o&=255&~(1<<r):2===_?c&=255&~(1<<r):3===_?m&=255&~(1<<r):4===_?f&=255&~(1<<r):5===_?u&=255&~(1<<r):6===_?e.mem_write(u|f<<8,e.mem_read(u|f<<8)&~(1<<r)):7===_&&(t&=255&~(1<<r)):0===_?i|=1<<r:1===_?o|=1<<r:2===_?c|=1<<r:3===_?m|=1<<r:4===_?f|=1<<r:5===_?u|=1<<r:6===_?e.mem_write(u|f<<8,e.mem_read(u|f<<8)|1<<r):7===_&&(t|=1<<r);v+=bn[n]},gn[204]=function(){F(!!p.Z)},gn[205]=function(){z(N+3&65535),N=(N=e.mem_read(N+1&65535)|e.mem_read(N+2&65535)<<8)-1&65535},gn[206]=function(){N=N+1&65535,K(e.mem_read(N))},gn[207]=function(){I(8)},gn[208]=function(){G(!p.C)},gn[209]=function(){const n=A();m=255&n,c=(65280&n)>>>8},gn[210]=function(){B(!p.C)},gn[211]=function(){N=N+1&65535,e.io_write(t<<8|e.mem_read(N),t)},gn[212]=function(){F(!p.C)},gn[213]=function(){z(m|c<<8)},gn[214]=function(){N=N+1&65535,L(e.mem_read(N))},gn[215]=function(){I(16)},gn[216]=function(){G(!!p.C)},gn[217]=function(){let n=i;i=_,_=n,n=o,o=a,a=n,n=c,c=d,d=n,n=m,m=s,s=n,n=f,f=l,l=n,n=u,u=Z,Z=n},gn[218]=function(){B(!!p.C)},gn[219]=function(){N=N+1&65535,t=e.io_read(t<<8|e.mem_read(N))},gn[220]=function(){F(!!p.C)},gn[221]=function(){S=128&S|1+(127&S)&127,N=N+1&65535;const n=e.mem_read(N),t=Yn[n];t?(t(),v+=xn[n]):(N=N-1&65535,v+=yn[0])},gn[222]=function(){N=N+1&65535,Q(e.mem_read(N))},gn[223]=function(){I(24)},gn[224]=function(){G(!p.P)},gn[225]=function(){const n=A();u=255&n,f=(65280&n)>>>8},gn[226]=function(){B(!p.P)},gn[227]=function(){let n=e.mem_read(H);e.mem_write(H,u),u=n,n=e.mem_read(H+1&65535),e.mem_write(H+1&65535,f),f=n},gn[228]=function(){F(!p.P)},gn[229]=function(){z(u|f<<8)},gn[230]=function(){N=N+1&65535,T(e.mem_read(N))},gn[231]=function(){I(32)},gn[232]=function(){G(!!p.P)},gn[233]=function(){N=(N=u|f<<8)-1&65535},gn[234]=function(){B(!!p.P)},gn[235]=function(){let n=c;c=f,f=n,n=m,m=u,u=n},gn[236]=function(){F(!!p.P)},gn[237]=function(){S=128&S|1+(127&S)&127,N=N+1&65535;const n=e.mem_read(N),t=Xn[n];t?(t(),v+=hn[n]):v+=yn[0]},gn[238]=function(){N=N+1&65535,V(e.mem_read(N))},gn[239]=function(){I(40)},gn[240]=function(){G(!p.S)},gn[241]=function(){const n=A();M(255&n),t=(65280&n)>>>8},gn[242]=function(){B(!p.S)},gn[243]=function(){b=!0},gn[244]=function(){F(!p.S)},gn[245]=function(){z(E()|t<<8)},gn[246]=function(){N=N+1&65535,U(e.mem_read(N))},gn[247]=function(){I(48)},gn[248]=function(){G(!!p.S)},gn[249]=function(){H=u|f<<8},gn[250]=function(){B(!!p.S)},gn[251]=function(){x=!0},gn[252]=function(){F(!!p.S)},gn[253]=function(){S=128&S|1+(127&S)&127,N=N+1&65535;const n=e.mem_read(N),t=Yn[n];if(t){const e=C;C=w,t(),w=C,C=e,v+=xn[n]}else N=N-1&65535,v+=yn[0]},gn[254]=function(){N=N+1&65535,R(e.mem_read(N))},gn[255]=function(){I(56)};const Xn=[];Xn[64]=function(){i=on(i<<8|o)},Xn[65]=function(){e.io_write(i<<8|o,i)},Xn[66]=function(){tn(o|i<<8)},Xn[67]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,o),e.mem_write(n+1&65535,i)},Xn[68]=function(){cn()},Xn[69]=function(){N=A()-1&65535,Y=y},Xn[70]=function(){X=0},Xn[71]=function(){P=t},Xn[72]=function(){o=on(i<<8|o)},Xn[73]=function(){e.io_write(i<<8|o,o)},Xn[74]=function(){en(o|i<<8)},Xn[75]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,o=e.mem_read(n),i=e.mem_read(n+1&65535)},Xn[76]=function(){cn()},Xn[77]=function(){N=A()-1&65535},Xn[78]=function(){X=0},Xn[79]=function(){S=t},Xn[80]=function(){c=on(i<<8|o)},Xn[81]=function(){e.io_write(i<<8|o,c)},Xn[82]=function(){tn(m|c<<8)},Xn[83]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,m),e.mem_write(n+1&65535,c)},Xn[84]=function(){cn()},Xn[85]=function(){N=A()-1&65535,Y=y},Xn[86]=function(){X=1},Xn[87]=function(){t=P,p.S=128&P?1:0,p.Z=P?0:1,p.H=0,p.P=y,p.N=0},Xn[88]=function(){m=on(i<<8|o)},Xn[89]=function(){e.io_write(i<<8|o,m)},Xn[90]=function(){en(m|c<<8)},Xn[91]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,m=e.mem_read(n),c=e.mem_read(n+1&65535)},Xn[92]=function(){cn()},Xn[93]=function(){N=A()-1&65535,Y=y},Xn[94]=function(){X=2},Xn[95]=function(){t=S,p.P=y},Xn[96]=function(){f=on(i<<8|o)},Xn[97]=function(){e.io_write(i<<8|o,f)},Xn[98]=function(){tn(u|f<<8)},Xn[99]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,u),e.mem_write(n+1&65535,f)},Xn[100]=function(){cn()},Xn[101]=function(){N=A()-1&65535,Y=y},Xn[102]=function(){X=0},Xn[103]=function(){let n=e.mem_read(u|f<<8);const i=15&n;n=(240&n)>>>4|(15&t)<<4,t=240&t|i,e.mem_write(u|f<<8,n),p.S=128&t?1:0,p.Z=t?0:1,p.H=0,p.P=k(t)?1:0,p.N=0,O(t)},Xn[104]=function(){u=on(i<<8|o)},Xn[105]=function(){e.io_write(i<<8|o,u)},Xn[106]=function(){en(u|f<<8)},Xn[107]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,u=e.mem_read(n),f=e.mem_read(n+1&65535)},Xn[108]=function(){cn()},Xn[109]=function(){N=A()-1&65535,Y=y},Xn[110]=function(){X=0},Xn[111]=function(){let n=e.mem_read(u|f<<8);const i=240&n;n=(15&n)<<4|15&t,t=240&t|i>>>4,e.mem_write(u|f<<8,n),p.S=128&t?1:0,p.Z=t?0:1,p.H=0,p.P=k(t)?1:0,p.N=0,O(t)},Xn[112]=function(){on(i<<8|o)},Xn[113]=function(){e.io_write(i<<8|o,0)},Xn[114]=function(){tn(H)},Xn[115]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,255&H),e.mem_write(n+1&65535,H>>>8&255)},Xn[116]=function(){cn()},Xn[117]=function(){N=A()-1&65535,Y=y},Xn[118]=function(){X=1},Xn[120]=function(){t=on(i<<8|o)},Xn[121]=function(){e.io_write(i<<8|o,t)},Xn[122]=function(){en(H)},Xn[123]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,H=e.mem_read(n),H|=e.mem_read(n+1&65535)<<8},Xn[124]=function(){cn()},Xn[125]=function(){N=A()-1&65535,Y=y},Xn[126]=function(){X=2},Xn[160]=function(){mn()},Xn[161]=function(){fn()},Xn[162]=function(){un()},Xn[163]=function(){rn()},Xn[168]=function(){_n()},Xn[169]=function(){an()},Xn[170]=function(){dn()},Xn[171]=function(){sn()},Xn[176]=function(){mn(),(i||o)&&(v+=5,N=N-2&65535)},Xn[177]=function(){fn(),p.Z||!i&&!o||(v+=5,N=N-2&65535)},Xn[178]=function(){un(),i&&(v+=5,N=N-2&65535)},Xn[179]=function(){rn(),i&&(v+=5,N=N-2&65535)},Xn[184]=function(){_n(),(i||o)&&(v+=5,N=N-2&65535)},Xn[185]=function(){an(),p.Z||!i&&!o||(v+=5,N=N-2&65535)},Xn[186]=function(){dn(),i&&(v+=5,N=N-2&65535)},Xn[187]=function(){sn(),i&&(v+=5,N=N-2&65535)};const Yn=[];Yn[9]=function(){pn(o|i<<8)},Yn[25]=function(){pn(m|c<<8)},Yn[33]=function(){N=N+1&65535,C=e.mem_read(N),N=N+1&65535,C|=e.mem_read(N)<<8},Yn[34]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,e.mem_write(n,255&C),e.mem_write(n+1&65535,C>>>8&255)},Yn[35]=function(){C=C+1&65535},Yn[36]=function(){C=W(C>>>8)<<8|255&C},Yn[37]=function(){C=$(C>>>8)<<8|255&C},Yn[38]=function(){N=N+1&65535,C=e.mem_read(N)<<8|255&C},Yn[41]=function(){pn(C)},Yn[42]=function(){N=N+1&65535;let n=e.mem_read(N);N=N+1&65535,n|=e.mem_read(N)<<8,C=e.mem_read(n),C|=e.mem_read(n+1&65535)<<8},Yn[43]=function(){C=C-1&65535},Yn[44]=function(){C=W(255&C)|65280&C},Yn[45]=function(){C=$(255&C)|65280&C},Yn[46]=function(){N=N+1&65535,C=255&e.mem_read(N)|65280&C},Yn[52]=function(){N=N+1&65535;const n=q(e.mem_read(N)),t=e.mem_read(n+C&65535);e.mem_write(n+C&65535,W(t))},Yn[53]=function(){N=N+1&65535;const n=q(e.mem_read(N)),t=e.mem_read(n+C&65535);e.mem_write(n+C&65535,$(t))},Yn[54]=function(){N=N+1&65535;const n=q(e.mem_read(N));N=N+1&65535,e.mem_write(C+n&65535,e.mem_read(N))},Yn[57]=function(){pn(H)},Yn[68]=function(){i=C>>>8&255},Yn[69]=function(){i=255&C},Yn[70]=function(){N=N+1&65535;const n=q(e.mem_read(N));i=e.mem_read(C+n&65535)},Yn[76]=function(){o=C>>>8&255},Yn[77]=function(){o=255&C},Yn[78]=function(){N=N+1&65535;const n=q(e.mem_read(N));o=e.mem_read(C+n&65535)},Yn[84]=function(){c=C>>>8&255},Yn[85]=function(){c=255&C},Yn[86]=function(){N=N+1&65535;const n=q(e.mem_read(N));c=e.mem_read(C+n&65535)},Yn[92]=function(){m=C>>>8&255},Yn[93]=function(){m=255&C},Yn[94]=function(){N=N+1&65535;const n=q(e.mem_read(N));m=e.mem_read(C+n&65535)},Yn[96]=function(){C=255&C|i<<8},Yn[97]=function(){C=255&C|o<<8},Yn[98]=function(){C=255&C|c<<8},Yn[99]=function(){C=255&C|m<<8},Yn[100]=function(){},Yn[101]=function(){C=255&C|(255&C)<<8},Yn[102]=function(){N=N+1&65535;const n=q(e.mem_read(N));f=e.mem_read(C+n&65535)},Yn[103]=function(){C=255&C|t<<8},Yn[104]=function(){C=65280&C|i},Yn[105]=function(){C=65280&C|o},Yn[106]=function(){C=65280&C|c},Yn[107]=function(){C=65280&C|m},Yn[108]=function(){C=65280&C|C>>>8},Yn[109]=function(){},Yn[110]=function(){N=N+1&65535;const n=q(e.mem_read(N));u=e.mem_read(C+n&65535)},Yn[111]=function(){C=65280&C|t},Yn[112]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,i)},Yn[113]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,o)},Yn[114]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,c)},Yn[115]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,m)},Yn[116]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,f)},Yn[117]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,u)},Yn[119]=function(){N=N+1&65535;const n=q(e.mem_read(N));e.mem_write(C+n&65535,t)},Yn[124]=function(){t=C>>>8&255},Yn[125]=function(){t=255&C},Yn[126]=function(){N=N+1&65535;const n=q(e.mem_read(N));t=e.mem_read(C+n&65535)},Yn[132]=function(){J(C>>>8&255)},Yn[133]=function(){J(255&C)},Yn[134]=function(){N=N+1&65535;const n=q(e.mem_read(N));J(e.mem_read(C+n&65535))},Yn[140]=function(){K(C>>>8&255)},Yn[141]=function(){K(255&C)},Yn[142]=function(){N=N+1&65535;const n=q(e.mem_read(N));K(e.mem_read(C+n&65535))},Yn[148]=function(){L(C>>>8&255)},Yn[149]=function(){L(255&C)},Yn[150]=function(){N=N+1&65535;const n=q(e.mem_read(N));L(e.mem_read(C+n&65535))},Yn[156]=function(){Q(C>>>8&255)},Yn[157]=function(){Q(255&C)},Yn[158]=function(){N=N+1&65535;const n=q(e.mem_read(N));Q(e.mem_read(C+n&65535))},Yn[164]=function(){T(C>>>8&255)},Yn[165]=function(){T(255&C)},Yn[166]=function(){N=N+1&65535;const n=q(e.mem_read(N));T(e.mem_read(C+n&65535))},Yn[172]=function(){V(C>>>8&255)},Yn[173]=function(){V(255&C)},Yn[174]=function(){N=N+1&65535;const n=q(e.mem_read(N));V(e.mem_read(C+n&65535))},Yn[180]=function(){U(C>>>8&255)},Yn[181]=function(){U(255&C)},Yn[182]=function(){N=N+1&65535;const n=q(e.mem_read(N));U(e.mem_read(C+n&65535))},Yn[188]=function(){R(C>>>8&255)},Yn[189]=function(){R(255&C)},Yn[190]=function(){N=N+1&65535;const n=q(e.mem_read(N));R(e.mem_read(C+n&65535))},Yn[203]=function(){N=N+1&65535;const n=q(e.mem_read(N));N=N+1&65535;const r=e.mem_read(N);let _;if(r<64){_=(0,[ln,Zn,Cn,wn,Pn,Sn,Hn,Nn][(56&r)>>>3])(e.mem_read(C+n&65535)),e.mem_write(C+n&65535,_)}else{const t=(56&r)>>>3;r<128?(p.N=0,p.H=1,p.Z=e.mem_read(C+n&65535)&1<<t?0:1,p.P=p.Z,p.S=7!==t||p.Z?0:1):r<192?(_=e.mem_read(C+n&65535)&~(1<<t)&255,e.mem_write(C+n&65535,_)):(_=e.mem_read(C+n&65535)|1<<t,e.mem_write(C+n&65535,_))}void 0!==_&&(0==(7&r)?i=_:1==(7&r)?o=_:2==(7&r)?c=_:3==(7&r)?m=_:4==(7&r)?f=_:5==(7&r)?u=_:7==(7&r)&&(t=_)),v+=bn[r]+8},Yn[225]=function(){C=A()},Yn[227]=function(){const n=C;C=e.mem_read(H),C|=e.mem_read(H+1&65535)<<8,e.mem_write(H,255&n),e.mem_write(H+1&65535,n>>>8&255)},Yn[229]=function(){z(C)},Yn[233]=function(){N=C-1&65535},Yn[249]=function(){H=C};const yn=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],hn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,0,12,12,15,20,8,14,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,16,16,16,0,0,0,0,16,16,16,16,0,0,0,0,16,16,16,16,0,0,0,0,16,16,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],bn=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],xn=[0,0,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,14,20,10,8,8,11,0,0,15,20,10,8,8,11,0,0,0,0,0,23,23,19,0,0,15,0,0,0,0,0,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,0,19,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,8,8,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,23,0,15,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,0,0,0,0,0,0];return{getState:function(){return{b:i,a:t,c:o,d:c,e:m,h:f,l:u,a_prime:r,b_prime:_,c_prime:a,d_prime:d,e_prime:s,h_prime:l,l_prime:Z,ix:C,iy:w,i:P,r:S,sp:H,pc:N,flags:{S:p.S,Z:p.Z,Y:p.Y,H:p.H,X:p.X,P:p.P,N:p.N,C:p.C},flags_prime:{S:g.S,Z:g.Z,Y:g.Y,H:g.H,X:g.X,P:g.P,N:g.N,C:g.C},imode:X,iff1:Y,iff2:y,halted:h,do_delayed_di:b,do_delayed_ei:x,cycle_counter:v}},getPC:function(){return N},setState:function(n){i=n.b,t=n.a,o=n.c,c=n.d,m=n.e,f=n.h,u=n.l,r=n.a_prime,_=n.b_prime,a=n.c_prime,d=n.d_prime,s=n.e_prime,l=n.h_prime,Z=n.l_prime,C=n.ix,w=n.iy,P=n.i,S=n.r,H=n.sp,N=n.pc,p.S=n.flags.S,p.Z=n.flags.Z,p.Y=n.flags.Y,p.H=n.flags.H,p.X=n.flags.X,p.P=n.flags.P,p.N=n.flags.N,p.C=n.flags.C,g.S=n.flags_prime.S,g.Z=n.flags_prime.Z,g.Y=n.flags_prime.Y,g.H=n.flags_prime.H,g.X=n.flags_prime.X,g.P=n.flags_prime.P,g.N=n.flags_prime.N,g.C=n.flags_prime.C,X=n.imode,Y=n.iff1,y=n.iff2,h=n.halted,b=n.do_delayed_di,x=n.do_delayed_ei,v=n.cycle_counter},reset:function(){H=57328,N=0,t=0,S=0,M(0),X=0,Y=0,y=0,h=!1,b=!1,x=!1,v=0},reset1:function(){H=57328,N=0,h=!1},run_instruction:function(){if(!h){let n=!1,t=!1;b?(b=!1,n=!0):x&&(x=!1,t=!0),S=128&S|1+(127&S)&127;const i=e.mem_read(N);j(i),N=N+1&65535,n?(Y=0,y=0):t&&(Y=1,y=1);const o=v;return v=0,o}return 1},interrupt:function(n,t){if(n)S=128&S|1+(127&S)&127,h=!1,y=Y,Y=0,z(N),N=102,v+=11;else if(Y)if(S=128&S|1+(127&S)&127,h=!1,Y=0,y=0,0===X)j(t),v+=2;else if(1===X)z(N),N=56,v+=13;else if(2===X){z(N);const n=P<<8|t;N=e.mem_read(n)|e.mem_read(n+1&65535)<<8,v+=19}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Z80=n;
},{}],"hTHz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=exports.throttle=void 0;const e=(e,t,o)=>{let r=!1;return()=>{r||(o||e(),r=!0,setTimeout(()=>{r=!1,o&&e()},t))}};exports.throttle=e;const t=(e,t)=>{let o=0;return()=>{clearTimeout(o),o=setTimeout(()=>e(),t)}};exports.debounce=t;
},{}],"Elv6":[function(require,module,exports) {
"use strict";var t=r(require("nrf-intel-hex")),e=require("./z80"),o=require("../util/tools");function r(t){return t&&t.__esModule?t:{default:t}}const n=65536;let a=!1;const s=!0;let l=30,i=0;const f=new Uint8Array(new ArrayBuffer(65536)).fill(255),c=Array(256).fill(255),u=Array(256).fill(255),y=Array(6).fill(0);let d,p=1,g=0;const E=(0,o.throttle)(()=>{console.log(f[2048].toString(16));const e=new t.default,o=new Uint8Array(f);e.set(0,o);const r=e.asHexString();self.postMessage({type:"POST_ALL_MEMORY",memory:r})},5e3,!0),_=(0,o.throttle)(()=>{const t=new ArrayBuffer(6),e=new Uint8Array(t);for(let o=0;o<6;o++)e[o]=y[o];self.postMessage({type:"POST_DISPLAY",display:t},[t])},100);function m(t,e){const o=255&t;u[o]=e;const r=u[1],n=u[2];let a=1;for(let l=0;l<6;l++)r&a&&(y[l]=n),a<<=1;let s=!1;if(1===o){const t=e>>7;1===t&&0===p&&(g!==i&&(s=!0),g=i,i=0),p=t}i>1e4&&(0!==g&&(s=!0),g=0),s&&self.postMessage({type:"POST_WAVELENGTH",wavelength:g},[]),_()}function*A(){for(;;){for(let e=0;e<1e3;e++)try{const e=d.run_instruction();i+=e}catch(t){const e=d.getPC(),o=f[d.getPC()]||0;console.log(`Illegal operation at ${e.toString(16)}: ${o.toString(16)}`),d.reset()}yield i}}let M=!1;const S=A();function T(){if(!M&&a&&(S.next(),a)){M=!0;const t=Math.floor(30*(1-Number(l)));setTimeout(function(){M=!1,T()},t)}}const w=t=>{t&&d.reset(),a=!0,T()},P=()=>{console.log("init")},O=()=>{w(!0)},U=t=>{const{port:e,value:o}=t.data;c[e]=o},h=t=>{const{code:e,pressed:o}=t.data;c[0]=e;c[3]=-65&c[3]|(o?0:64)},I=t=>{l=Number(t.data.value)/100},N=()=>{d.interrupt(!0,0)},v=e=>{console.log("memory updated");const o=e.data.value,r=t.default.fromHex(o);for(const t of r.keys()){const e=r.get(t);for(let o=0;o<e.length;o++)f[o+t]=e[o]}w(!0)},D=t=>{console.log("read memory");const e=t.data.from,o=t.data.size,r=new ArrayBuffer(o),n=new Uint8Array(r);for(let a=0;a<o;a++)n[a]=f[a+e];self.postMessage({type:"POST_MEMORY",from:e,size:o,buffer:r},[r])},L=t=>{t.data.value?a=!1:w(!1)};self.onmessage=(t=>{"INIT"===t.data.type?console.log("init"):"RESET"===t.data.type?w(!0):"SET_INPUT_VALUE"===t.data.type?U(t):"SET_KEY_VALUE"===t.data.type?h(t):"SET_SPEED"===t.data.type?I(t):"NMI"===t.data.type?d.interrupt(!0,0):"UPDATE_MEMORY"===t.data.type?v(t):"READ_MEMORY"===t.data.type?D(t):"HIDDEN"===t.data.type&&L(t)}),d=(0,e.Z80)({mem_read:t=>f[t],mem_write:(t,e)=>{const o=f[t];f[t]=e,o!==e&&E()},io_read:t=>c[255&t],io_write:m});
},{"nrf-intel-hex":"PTIi","./z80":"jIr1","../util/tools":"hTHz"}]},{},["Elv6"], null)
//# sourceMappingURL=/items/worker.5d79ffd9.js.map